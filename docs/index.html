<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ML Algorithm Explorer</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8; /* Light blue-gray background */
        }
        .scrollable-content {
            max-height: calc(100vh - 120px); /* Adjust based on header/footer height */
            overflow-y: auto;
            -ms-overflow-style: none; /* IE and Edge */
            scrollbar-width: none; /* Firefox */
        }
        .scrollable-content::-webkit-scrollbar {
            display: none; /* Chrome, Safari, Opera */
        }
        .category-header {
            background-color: #e2e8f0; /* Lighter blue-gray for category headers */
            border-left: 4px solid #3b82f6; /* Blue accent */
            cursor: pointer; /* Indicate it's clickable */
            transition: background-color 0.2s ease;
        }
        .category-header:hover {
            background-color: #d1d9e2; /* Slightly darker on hover */
        }
        .algorithm-item {
            cursor: pointer;
            transition: background-color 0.2s ease, transform 0.1s ease;
        }
        .algorithm-item:hover {
            background-color: #dbeafe; /* Lighter blue on hover */
            transform: translateY(-2px);
        }
        .algorithm-item.selected {
            background-color: #bfdbfe; /* Even lighter blue for selected */
            font-weight: 600;
        }
        .description-box {
            min-height: 200px; /* Ensure description box has some height */
        }
        .loader {
            border: 4px solid #f3f3f3; /* Light grey */
            border-top: 4px solid #3b82f6; /* Blue */
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .toggle-icon {
            transition: transform 0.2s ease;
        }
        .toggle-icon.rotated {
            transform: rotate(-90deg); /* Rotate for collapsed state */
        }
        .algorithm-list-container.hidden {
            display: none;
        }
    </style>
</head>
<body class="flex flex-col min-h-screen">
    <header class="bg-gradient-to-r from-blue-600 to-indigo-700 text-white p-4 shadow-lg">
        <h1 class="text-3xl font-bold text-center">Machine Learning Algorithm Explorer</h1>
        <p class="text-center text-blue-100 mt-1">Discover and learn about various ML algorithms</p>
    </header>

    <main class="flex flex-1 flex-col lg:flex-row p-4 gap-4">
        <!-- Algorithm List Section -->
        <section class="lg:w-1/3 bg-white rounded-lg shadow-md p-4 scrollable-content">
            <h2 class="text-2xl font-semibold text-gray-800 mb-4">Algorithms by Category</h2>
            <div id="algorithm-list" class="space-y-4">
                <!-- Algorithms will be loaded here by JavaScript -->
            </div>
        </section>

        <!-- Algorithm Details Section -->
        <section class="lg:w-2/3 bg-white rounded-lg shadow-md p-6 description-box flex flex-col justify-between">
            <div>
                <h2 id="algorithm-detail-title" class="text-3xl font-bold text-gray-900 mb-4">Select an Algorithm</h2>
                <div id="algorithm-detail-content" class="text-gray-700 leading-relaxed">
                    <p>Click on any algorithm from the list on the left to learn more about it.</p>
                </div>
            </div>
            <div id="loading-indicator" class="hidden flex justify-center items-center mt-4">
                <div class="loader"></div>
                <p class="ml-3 text-gray-600">Fetching details...</p>
            </div>
            <div id="error-message" class="hidden text-red-600 mt-4 text-center">
                <p>Failed to fetch details. Please try again.</p>
            </div>
        </section>
    </main>

    <footer class="bg-gray-800 text-white p-4 text-center text-sm shadow-inner mt-auto">
        <p>&copy; 2025 ML Algorithm Explorer. All rights reserved.</p>
    </footer>

    <script>
        // Data structure for algorithms based on the provided image
        const algorithmsData = {
            "Deep Learning": [
                "Deep Boltzmann Machine (DBM)",
                "Deep Belief Network (DBN)",
                "Convolutional Neural Network (CNN)",
                "Stacked Auto-Encoders"
            ],
            "Ensemble": [
                "Random Forest",
                "Gradient Boosting Machines (GBM)",
                "Boosting",
                "Bootstrapped Aggregation (Bagging)",
                "Adaboost",
                "Stacked Generalization (Blending)",
                "Gradient Boosted Regression Trees (GBRT)"
            ],
            "Neural Networks": [
                "Radial Basis Function Network (RBFN)",
                "Perceptron",
                "Back-Propagation",
                "Hopfield Network",
                "Ridge Regression"
            ],
            "Regularization": [
                "Least Absolute Shrinkage and Selection Operator (LASSO)",
                "Elastic Net",
                "Least Angle Regression (LARS)"
            ],
            "Rule System": [
                "Cubist",
                "One Rule (OneR)",
                "Zero Rule (ZeroR)",
                "Incremental Pruning to Produce Error Reduction (RIPPER)"
            ],
            "Regression": [
                "Linear Regression",
                "Ordinary Least Squares Regression (OLS)",
                "Stepwise Regression",
                "Multivariate Adaptive Regression Splines (MARS)",
                "Locally Estimated Scatterplot Smoothing (LOESS)",
                "Logistic Regression"
            ],
            "Bayesian": [
                "Naive Bayes",
                "Averaged One-Dependence Estimators (AODE)",
                "Bayesian Belief Network (BBN)",
                "Gaussian Naive Bayes",
                "Multinomial Naive Bayes",
                "Bayesian Network (BN)"
            ],
            "Decision Tree": [
                "Classification and Regression Tree (CART)",
                "Iterative Dichotomiser 3 (ID3)",
                "C4.5",
                "C5.0",
                "Chi-squared Automatic Interaction Detection (CHAID)",
                "Decision Stump",
                "Conditional Decision Trees",
                "LMT" // Assuming LMT from the image
            ],
            "Dimensionality Reduction": [
                "Principal Component Analysis (PCA)",
                "Partial Least Squares Regression",
                "Sammon Mapping",
                "Multidimensional Scaling (MDS)",
                "Projection Pursuit",
                "Principal Component Regression",
                "Partial Least Squares Discriminant Analysis",
                "Mixture Discriminant Analysis (MDA)",
                "Quadratic Discriminant Analysis (QDA)",
                "Regularized Discriminant Analysis (RDA)",
                "Flexible Discriminant Analysis (FDA)",
                "Linear Discriminant Analysis (LDA)"
            ],
            "Instance Based": [
                "K-Nearest Neighbor (KNN)",
                "Learning Vector Quantization (LVQ)",
                "Self-Organizing Map (SOM)",
                "Locally Weighted Learning (LWL)"
            ],
            "Clustering": [
                "K-Means",
                "K-Medians",
                "Expectation Maximization",
                "Hierarchical Clustering"
            ]
        };

        const algorithmListDiv = document.getElementById('algorithm-list');
        const algorithmDetailTitle = document.getElementById('algorithm-detail-title');
        const algorithmDetailContent = document.getElementById('algorithm-detail-content');
        const loadingIndicator = document.getElementById('loading-indicator');
        const errorMessage = document.getElementById('error-message');

        let currentSelectedAlgorithm = null;

        // Function to render the algorithm list
        function renderAlgorithmList() {
            for (const category in algorithmsData) {
                const categoryDiv = document.createElement('div');
                categoryDiv.className = 'mb-4';

                const categoryHeader = document.createElement('div'); // Changed to div for flexbox
                categoryHeader.className = 'category-header flex justify-between items-center text-lg font-semibold text-gray-800 p-2 rounded-md mb-2';
                categoryHeader.innerHTML = `<span>${category}</span><span class="toggle-icon">â–¼</span>`; // Added toggle icon
                categoryDiv.appendChild(categoryHeader);

                const algorithmListContainer = document.createElement('div');
                algorithmListContainer.className = 'algorithm-list-container'; // Container to toggle visibility

                const ul = document.createElement('ul');
                ul.className = 'list-none p-0 m-0';

                algorithmsData[category].forEach(algorithm => {
                    const li = document.createElement('li');
                    li.className = 'algorithm-item p-2 rounded-md text-gray-700 hover:bg-blue-100 transition-colors duration-200 ease-in-out';
                    li.textContent = algorithm;
                    li.dataset.algorithmName = algorithm; // Store algorithm name for easy access
                    li.dataset.categoryName = category; // Store category name

                    li.addEventListener('click', () => selectAlgorithm(li, algorithm, category));
                    ul.appendChild(li);
                });
                algorithmListContainer.appendChild(ul);
                categoryDiv.appendChild(algorithmListContainer);
                algorithmListDiv.appendChild(categoryDiv);

                // Add event listener for collapsing/expanding
                categoryHeader.addEventListener('click', () => {
                    algorithmListContainer.classList.toggle('hidden');
                    const toggleIcon = categoryHeader.querySelector('.toggle-icon');
                    toggleIcon.classList.toggle('rotated');
                });
            }
        }

        // Function to fetch algorithm details using Gemini API
        async function fetchAlgorithmDetails(algorithmName) {
            algorithmDetailContent.innerHTML = ''; // Clear previous content
            loadingIndicator.classList.remove('hidden');
            errorMessage.classList.add('hidden');

            try {
                const prompt = `Provide a concise, 2-3 sentence explanation of the machine learning algorithm "${algorithmName}". Focus on its primary purpose and how it generally works.`;
                let chatHistory = [];
                chatHistory.push({ role: "user", parts: [{ text: prompt }] });

                const payload = { contents: chatHistory };
                const apiKey = ""; // Leave this as-is; Canvas will provide it at runtime.
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }

                const result = await response.json();

                if (result.candidates && result.candidates.length > 0 &&
                    result.candidates[0].content && result.candidates[0].content.parts &&
                    result.candidates[0].content.parts.length > 0) {
                    const text = result.candidates[0].content.parts[0].text;
                    algorithmDetailContent.innerHTML = `<p>${text}</p>`;
                } else {
                    algorithmDetailContent.innerHTML = '<p>No description found for this algorithm.</p>';
                }
            } catch (error) {
                console.error('Error fetching algorithm details:', error);
                errorMessage.classList.remove('hidden');
                algorithmDetailContent.innerHTML = '<p>Could not load details at this time.</p>';
            } finally {
                loadingIndicator.classList.add('hidden');
            }
        }

        // Function to handle algorithm selection
        function selectAlgorithm(selectedElement, algorithmName, categoryName) {
            // Remove 'selected' class from previously selected item
            if (currentSelectedAlgorithm) {
                currentSelectedAlgorithm.classList.remove('selected');
            }

            // Add 'selected' class to the new item
            selectedElement.classList.add('selected');
            currentSelectedAlgorithm = selectedElement;

            // Update detail section title
            algorithmDetailTitle.textContent = algorithmName;

            // Fetch and display details
            fetchAlgorithmDetails(algorithmName);
        }

        // Initial rendering of the algorithm list when the page loads
        document.addEventListener('DOMContentLoaded', renderAlgorithmList);
    </script>
</body>
</html>
